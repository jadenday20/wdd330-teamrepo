<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Sleep Outside | Cart</title>

    <link rel="stylesheet" href="/css/style.css" />

    <script src="../js/cart.js" type="module"></script>
    <script src="../js/main.js" type="module"></script>
  </head>

  <body>
    <header class="divider" id="main-header"></header>

    <main class="divider">
      <section class="products">
        <h2>My Cart</h2>

        <ul class="product-list cart-checkout-list"></ul>
        <div class="subtotal"></div>
        <button
          class="checkout-btn"
          onclick="window.location.href='../checkout/index.html';"
        >
          Checkout
        </button>
        <!-- <div class="checkout-btn">
          <a class="checkout-link" href="../checkout/index.html">Checkout</a>
        </div> -->
      </section>
      <script>
        function getLocalStorage(key) {
          return JSON.parse(localStorage.getItem(key));
        }

        function setLocalStorage(key, data) {
          localStorage.setItem(key, JSON.stringify(data));
        }

        function deleteItem(Id) {
          const cartItems = getLocalStorage("so-cart");
          for (let i = 0; i < cartItems.length; i++) {
            let id = cartItems[i].Id;
            if (id == Id) {
              cartItems.splice(i, 1);
              setLocalStorage("so-cart", cartItems);
              location.reload();
              return;
            }
          }
        }
      </script>
    </main>

    <footer id="main-footer"></footer>
  </body>
</html>
